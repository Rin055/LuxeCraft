{% extends 'shop/base.html' %}
{% block title %}{{ product.name }} — LuxeCraft{% endblock %}
{% block content %}

<section class="product-detail">
  <div class="detail-media">
    {% if product.image %}
      <img src="{{ product.image.url }}" alt="{{ product.name }}">
    {% else %}
      <div class="placeholder large">No image</div>
    {% endif %}
  </div>

  <div class="detail-info">
    <h1 class="detail-title">{{ product.name }}</h1>
    <p class="detail-price">${{ product.price }}</p>
    <div class="detail-desc">
      <p>{{ product.description }}</p>
    </div>

    <div class="detail-actions">
      {% if product.id in cart_products_ids %}
        <button class="btn btn-primary" disabled>Added ✔</button>
      {% else %}
        <form method="get" action="{% url 'add_to_cart' product.id %}" style="display: inline;">
          <button class="btn btn-primary">Add to Cart</button>
        </form>
      {% endif %}
      <a class="btn btn-ghost" href="{% url 'products' %}">Back to Crafts</a>
    </div>
  </div>
</section>

{% endblock %}
